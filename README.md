# 海蝕機関 - 静的サイト

このフォルダには、海蝕機関（Sea Erosion Agency）のウェブサイトを静的HTML、CSS、JavaScriptに変換したファイルが含まれています。

## ファイル構成

```
.
├── index.html          # ホームページ（ダッシュボード）
├── divisions.html      # 各部門情報ページ
├── division-convergence.html   # 収束部門詳細ページ
├── division-support.html       # 支援部門詳細ページ
├── division-engineering.html   # 工作部門詳細ページ
├── division-foreign.html       # 外事部門詳細ページ
├── division-port.html          # 港湾部門詳細ページ
├── phenomenon.html     # アーカイブ：海蝕現象ページ
├── login.html          # 新規登録/ログインページ
├── dashboard.html      # 機関員ダッシュボード（要ログイン）
├── chat.html           # 機関員チャット（要ログイン）
├── map.html            # 海蝕現象マップ（LEVEL 1必要）
├── missions.html       # 収束案件データベース（LEVEL 2必要）
├── mission-detail.html # 案件詳細ページ（LEVEL 2必要）
├── modules.html        # モジュールカタログ（LEVEL 2必要）
├── entities.html       # 海蝕実体カタログ（LEVEL 3必要）
├── classified.html     # 機関員個人情報データベース（LEVEL 5必要）
├── personnel-detail.html # 機関員詳細ページ（LEVEL 5必要）
├── css/
│   ├── style.css       # メインスタイルシート
│   ├── catalog.css     # カタログ用CSS
│   ├── classified.css  # 機密情報用CSS
│   └── personnel-detail.css # 機関員詳細用CSS
├── js/
│   ├── main.js         # メインJavaScript
│   ├── chat.js         # チャット機能JavaScript
│   ├── progress.js     # 進捗・レベルシステムJavaScript
│   ├── modal.js        # モーダルウィンドウシステムJavaScript
│   ├── catalog-data.js # カタログデータ（モジュール・海蝕実体）
│   ├── catalog-modules.js  # モジュールカタログ表示JavaScript
│   ├── catalog-entities.js # 海蝕実体カタログ表示JavaScript
│   ├── map-data.js     # マップ事案データ
│   ├── map.js          # マップ表示・インタラクションJavaScript
│   ├── mission-data.js # 収束案件データベース
│   ├── missions-search.js # 案件検索JavaScript
│   ├── mission-detail.js # 案件詳細JavaScript
│   ├── personnel-database.js # 機関員データベース
│   ├── classified.js   # 機密情報ページJavaScript
│   └── personnel-detail.js # 機関員詳細JavaScript
└── images/             # 画像ファイル
    ├── logo.png
    ├── bg-texture.png
    ├── favicon.png
    └── opengraph.jpg
```

## 使用方法

1. すべてのファイルを同じディレクトリ構造で配置してください
2. `index.html` をブラウザで開くか、ウェブサーバーで配信してください
3. サーバーなしでも動作しますが、ローカルファイルとして開く場合、一部のブラウザでは相対パスの問題が発生する可能性があります

### 認証機能の使い方

**新規登録:**
1. `login.html` にアクセス
2. 「新規登録」タブをクリック
3. 機関員ID（形式: K-XXX-XXX）、氏名、パスワード、希望部門を入力
4. 「登録申請を送信」をクリック
5. 登録完了後、自動的にログインタブに切り替わります

**ログイン:**
1. 機関員IDとパスワードを入力
2. 「認証を実行」をクリック
3. 認証成功後、機関員ダッシュボードにリダイレクトされます

**データ保存:**
- ユーザーデータは localStorage に保存されます
- ブラウザのデータを削除すると、登録情報も削除されます
- 本番環境では適切なバックエンドとデータベースを使用してください

**チャット機能の使い方:**
1. ログイン後、サイドバーから「機関員チャット」を選択
2. 左側のリストから会話したい機関員を選択
3. メッセージを入力して送信（Shift+Enterでも送信可能）
4. 複数の機関員を切り替えて会話できます
5. 未読メッセージがある場合、リストに赤い点が表示されます
6. デモ用に自動応答機能が実装されています（実際の相手からのメッセージではありません）

**進捗・レベルシステムの使い方:**
1. 様々な活動を通じてXP（経験値）を獲得
2. XPが一定量に達するとレベルアップ
3. レベルが上がると新しいコンテンツがアンロックされます

**XPを獲得できる活動:**
- 初回ログイン: +50 XP
- デイリーログイン: +25 XP
- プロフィール閲覧: +10 XP
- チャットメッセージ送信: +5 XP
- 部門情報閲覧: +20 XP
- 海蝕現象アーカイブ閲覧: +30 XP

**レベル別アンロックコンテンツ:**
- LEVEL 0: ダッシュボード、基本情報
- LEVEL 1: 各部門情報、チャット機能、海蝕現象マップ
- LEVEL 2: 各部門の詳細情報、モジュールカタログ、収束案件データベース
- LEVEL 3: 海蝕現象アーカイブ、海蝕実体カタログ
- LEVEL 4: 高度機密案件（一部案件の詳細情報）
- LEVEL 5: 機密情報アーカイブ（機関員履歴書・私的日記）

## 機能

- **レスポンシブデザイン**: モバイル、タブレット、デスクトップに対応
- **サイドバーナビゲーション**: デスクトップでは固定、モバイルではハンバーガーメニュー
- **モーダルウィンドウシステム**:
  - テーマに沿ったカスタムモーダル
  - 情報表示、警告、エラー、成功、確認ダイアログ
  - アニメーション付きスムーズな表示
  - 標準のalert/confirmの代替
- **ユーザー認証システム**:
  - 新規登録機能（機関員ID、氏名、パスワード、部門選択）
  - ログイン/ログアウト機能
  - ログイン状態の永続化（localStorage使用）
  - 機関員ダッシュボード
- **進捗・レベルシステム**:
  - 経験値（XP）の獲得と蓄積
  - レベルアップ機能（LEVEL 0～5）
  - レベルに応じたコンテンツのアンロック
  - 活動に応じたXP付与（プロフィール閲覧、チャット、部門情報閲覧など）
  - レベルアップ通知とXP獲得通知
  - 進捗バーとアンロック状況の可視化
  - デイリーログインボーナス
- **カタログシステム**:
  - モジュールカタログ（収束装置データベース） - LEVEL 2でアンロック
  - 海蝕実体カタログ（異次元生命体データベース） - LEVEL 3でアンロック
  - 分類フィルター機能（安全・要注意・危険・機密）
  - 詳細情報モーダル表示
  - 8種類のモジュールと6種類の海蝕実体
- **海蝕現象マップ** - LEVEL 1でアンロック:
  - リアルタイム発生状況の可視化
  - インタラクティブマップ（クリック・ホバー対応）
  - 10件の事案データ（重大・警戒・観察）
  - 詳細ポップアップ表示
  - 事案リスト（重要度順ソート）
  - 統計情報表示
  - 凡例とフィルター機能
- **収束案件データベース** - LEVEL 2でアンロック:
  - 9件の詳細な収束案件データ
  - 案件検索機能（テキスト検索・フィルター）
  - ステータス別フィルター（対応中・監視中・収束済み）
  - 重要度別フィルター（重大・警戒・観察）
  - 統計情報ダッシュボード
  - 詳細ページ:
    - タイムライン表示
    - 現場レポート
    - 使用モジュール
    - 人員情報・死傷者数
    - 任務結果（収束済み案件）
  - セキュリティレベルによるアクセス制御
- **機密情報アーカイブ** - LEVEL 5でアンロック:
  - **機関員履歴書**:
    - 8名の機関員の詳細プロフィール
    - 個人情報（年齢、生年月日、血液型）
    - 学歴・専門分野
    - 任務実績（任務数、成功率、表彰回数）
    - 心理プロファイル
    - 機密メモ
  - **私的日記**:
    - 12件の機関員の個人日記
    - 日付・著者・気分タグ
    - 業務の悩み、家族への想い、使命感
    - 検索機能（著者名、内容、タグ）
  - タブ切替で履歴書/日記を切り替え
  - 詳細モーダル表示
  - 最高機密レベルのコンテンツ
- **チャット機能**:
  - 登録済み機関員とのリアルタイムチャット
  - タブ切り替えで複数人と会話可能
  - 未読メッセージ通知
  - タイピングインジケーター
  - メッセージ履歴の保存
  - 自動応答シミュレーション（デモ用）
- **アニメーション効果**:
  - グリッチテキストエフェクト
  - フェードインアニメーション
  - ホバーエフェクト
- **リアルタイムログ**: ホームページのターミナルログが自動更新
- **アコーディオン**: 現象ページの折りたたみコンテンツ
- **フォーム機能**: 入力検証とフィードバック

## デザインテーマ

- **カラースキーム**: 深海をイメージしたダークテーマ
  - プライマリ: シアン (#00E5E5)
  - 背景: ディープブルー/ブラック
  - アクセント: レッド（警告用）
- **フォント**:
  - メイン: Inter
  - モノスペース: JetBrains Mono
  - ディスプレイ: Space Grotesk

## ブラウザ互換性

- Chrome/Edge: 完全対応
- Firefox: 完全対応
- Safari: 完全対応
- IE11: 非対応（モダンブラウザのみ）

## カスタマイズ

### 色の変更
`css/style.css` の `:root` セクションでカラー変数を編集できます。

### コンテンツの編集
各HTMLファイルを直接編集してテキストや構造を変更できます。

### 画像の差し替え
`images/` フォルダ内の画像を同じファイル名で置き換えてください。

## ライセンス

MIT License

## 注意事項

このサイトはReactアプリケーションから変換されたものです。
元のReactアプリケーションにあったバックエンド機能の一部は、フロントエンドのみで再実装されています。

**認証システムについて:**
- 現在の実装はデモ目的でlocalStorageを使用しています
- **本番環境では絶対に使用しないでください**
- パスワードは平文で保存されており、セキュリティが確保されていません
- 本番環境では以下を実装する必要があります:
  - サーバーサイド認証（JWT、セッションなど）
  - パスワードのハッシュ化（bcrypt、Argon2など）
  - HTTPS通信
  - CSRFトークン
  - レート制限
  - 適切なデータベース（PostgreSQL、MySQLなど）

**開発用途のみでの使用を推奨します。**
